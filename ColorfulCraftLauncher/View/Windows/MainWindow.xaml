<hc:Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="clr-namespace:ColorfulCraftLauncher"
        x:Class="ColorfulCraftLauncher.MainWindow"
        Width="860" Height="480"
        Title="ColorfulCraftLauncher" Loaded="Window_Loaded" >

    <hc:Window.DataContext>
        <local:MainWindowViewModel/>
    </hc:Window.DataContext>
    <hc:TransitioningContentControl>
        <TabControl Style="{StaticResource TabControlInLine}" TabStripPlacement="Left" >
            <TabItem Height="69" VerticalAlignment="Center" Width="90">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Img/账户.png" Width="24" Height="24"/>
                            <TextBlock Text="账户" Margin="5,0,0,0" FontSize="16"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Grid Width="770" Margin="0,0,0,-9"  Background="PaleTurquoise">

                    <Button Content="微软登录" VerticalAlignment="Top" Height="71" Width="350" HorizontalAlignment="Left" Margin="385,77,0,0" Command="{Binding AuthenticateMicrosoftCommand}" Style="{Binding Mode=OneWay, Source={StaticResource ButtonInfo}}"/>
                    <Button Content="外置登录" Height="71" Width="350" HorizontalAlignment="Left" Margin="385,189,0,0" Command="{Binding AuthenticateYggdrasilCommand}" VerticalAlignment="Top" Style="{Binding Mode=OneWay, Source={StaticResource ButtonInfo}}"/>
                    <Button Content="离线登录" VerticalAlignment="Top" Height="71" Width="350" HorizontalAlignment="Left" Margin="385,298,0,0" Command="{Binding AuthenticateOfflineCommand}" Style="{Binding Mode=OneWay, Source={StaticResource ButtonInfo}}"/>
                    <ListBox x:Name="listbox1" Margin="0,0,421,10" ItemsSource="{Binding Accounts}" Foreground="White" Background="#33333333"/>
                </Grid>
            </TabItem>
            <TabItem Header="下载" Width="90">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Img/下载.png" Width="24" Height="24"/>
                            <TextBlock Text="下载" Margin="5,0,0,0" FontSize="16"/>
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Grid RenderTransformOrigin="0.396,0.573"  Background="PaleTurquoise">

                    <Expander x:Name="l1" Header="所有版本" Margin="33,10,302,10" Grid.ColumnSpan="3">
                        <Grid Background="#FFE5E5E5">
                            <ListBox x:Name="lb1" ItemsSource="{Binding Versions}" SelectedItem="{Binding SelectedVersion}"/>
                        </Grid>
                    </Expander>
                    <hc:CircleProgressBar x:Name="pb1" Margin="519,31,49,231" Style="{StaticResource ProgressBarDangerCircle}" Width="200" Value="{Binding ProgressValue}" Height="200"/>
                    <Button Content="下载" Margin="494,349,0,0" VerticalAlignment="Top" Height="86" Width="250" Command="{Binding InstallGameCoreCommand}" HorizontalAlignment="Left" Style="{Binding Mode=OneWay, Source={StaticResource ButtonInfo}}"/>
                    <Label x:Name="l2" HorizontalContentAlignment="Center" Content="{Binding StatusMessage}" Margin="494,296,0,0" VerticalAlignment="Top" Width="250" HorizontalAlignment="Left"/>
                </Grid>
            </TabItem>
            <TabItem Header="运行" Width="90" Height="69" VerticalAlignment="Bottom">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Img/运行.png" Width="24" Height="24"/>
                            <TextBlock Text="运行" Margin="5,0,0,0" FontSize="16" />
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Grid Background="PaleTurquoise">
                    <ListBox x:Name="listbox2" HorizontalAlignment="Left" Width="352" Margin="406,10,0,118" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Auto" ItemsSource="{Binding LocalVersions}" SelectedItem="{Binding SelectedLocalVersion}"/>
                    <hc:Card Margin="0,0,376,0" BorderBrush="#FF171515" BorderThickness="3,3,3,3">
                        <Grid>
                            <hc:Gravatar Content="" HorizontalAlignment="Center" Margin="0,10,0,0" VerticalAlignment="Top" Height="250" Width="250" Style="{Binding Mode=OneWay, Source={StaticResource GravatarCircleImg}}" Source="/Img/头像.png"/>
                            <Label x:Name="namel" Margin="0,274,0,0" VerticalAlignment="Top" Width="168" Content="{Binding LoginedAccount}"/>
                            <Button Content="登录" Margin="0,355,0,0" VerticalAlignment="Top" Height="80" Width="270" Command="{Binding SelectAccountCommand}"/>
                            <ComboBox x:Name="cb1" HorizontalAlignment="Center" Margin="0,322,0,0" VerticalAlignment="Top" Width="270" ItemsSource="{Binding Accounts}" SelectedItem="{Binding SelectedAccount}" SelectedIndex="{Binding SelectedIndex}"/>
                        </Grid>
                    </hc:Card>
                    <Button Content="启动游戏" Margin="406,362,0,0" VerticalAlignment="Top" Height="80" Width="271" HorizontalAlignment="Left" Command="{Binding LaunchGameCommand}" Style="{Binding Mode=OneWay, Source={StaticResource ButtonSuccess}}"/>
                    <Button Content="刷新列表" Margin="682,362,0,0" VerticalAlignment="Top" Height="80" Width="76" HorizontalAlignment="Left" Command="{Binding RefreshGameListCommand }"/>
                </Grid>
            </TabItem>
            <TabItem Header="模组" Width="90">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Img/模组.png" Width="24" Height="24"/>
                            <TextBlock Text="模组" Margin="5,0,0,0" FontSize="16" />
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Grid  Background="PaleTurquoise">
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition Height="205*"/>
                    </Grid.RowDefinitions>
                    <hc:Card Effect="{DynamicResource EffectShadow2}" Height="90" VerticalAlignment="Top" Margin="10,8,10,0" Grid.Row="1">
                        <Grid Height="90">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="25*"/>
                                <ColumnDefinition Width="96*"/>
                            </Grid.ColumnDefinitions>
                            <Button Content="搜索" Height="33" Width="121" HorizontalAlignment="Left" Margin="445,45,0,0" Grid.Column="1" VerticalAlignment="Top" Command="{Binding SearchModsCommand}"/>
                            <hc:TextBox HorizontalAlignment="Left" Margin="87,10,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="629" Grid.ColumnSpan="2" Text="{Binding ModName, Mode=TwoWay}"/>
                            <Label Content="名称" HorizontalAlignment="Left" Margin="24,10,0,0" VerticalAlignment="Top"/>
                        </Grid>
                    </hc:Card>
                    <ListBox ItemsSource="{Binding ModVersions}" Margin="10,103,10,10" Grid.Row="1"/>
                </Grid>
            </TabItem>
            <TabItem Width="90" Margin="0,0,0,1">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Img/多人.png" Width="24" Height="24"/>
                            <TextBlock Text="多人" Margin="5,0,0,0" FontSize="16" />
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Grid  Background="PaleTurquoise">
                    <TextBox HorizontalAlignment="Left" Margin="117,327,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="232" Height="41" Text="{Binding IP}"/>
                    <Label Content="IP:" HorizontalAlignment="Left" Margin="24,327,0,0" VerticalAlignment="Top" Width="55" Height="41"/>
                    <Button Content="启动多人联机" HorizontalAlignment="Left" Margin="374,293,0,0" VerticalAlignment="Top" Height="59" Width="314"/>
                    <TextBox Margin="10,10,10,175" Text="{Binding N2NLog}" />
                    <Button Content="安装虚拟网卡" HorizontalAlignment="Left" Margin="24,381,0,0" VerticalAlignment="Top" Height="59" Width="314" RenderTransformOrigin="0.495,1.148" Command="{Binding TapInstallCommand}"/>
                    <Button Content="停止多人联机" HorizontalAlignment="Left" Margin="374,381,0,0" VerticalAlignment="Top" Height="59" Width="314"/>
                </Grid>
            </TabItem>
            <TabItem Header="设置" Margin="0,0,0,-1" Width="90">
                <TabItem.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Img/设置.png" Width="24" Height="24"/>
                            <TextBlock Text="设置" Margin="5,0,0,0" FontSize="16" />
                        </StackPanel>
                    </DataTemplate>
                </TabItem.HeaderTemplate>
                <Grid Background="PaleTurquoise">
                </Grid>
            </TabItem>
        </TabControl>
    </hc:TransitioningContentControl>
</hc:Window>
